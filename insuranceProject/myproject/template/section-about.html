<section class="section about">
    {% load static %}

    <!-- Categories Preview -->
    <section class="section categories">
        <h2>Основные категории</h2>
        <div class="container">
            {% for main in main_categories %}
            <div class="card" id="{{ forloop.counter0 }}">
                <div class="card-inner">

                    <div class="card-front">
                        {% if main.image %}
                        <img alt="{{ main.name }}" src="{{ main.image.url }}">
                        {% else %}
                        <img alt="Нет изображения" src="{% static 'images/placeholder.jpg' %}">
                        {% endif %}
                        <h4>{{ main.name }}</h4>
                    </div>

                    <div class="card-back">
                        <h3>Подкатегории:</h3>
                        <ul class="subcategory-list">
                            {% for sub in main.subcategories.all %}
                            <li><a href="{% url 'subcategory_detail' main_id=main.id sub_id=sub.id %}">{{ sub.name }}</a></li>
                            {% empty %}
                            <li class="empty">Нет подкатегорий</li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
            {% endfor %}

        </div>
    </section>


</section>